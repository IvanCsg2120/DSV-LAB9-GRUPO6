<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problema 1 - Promedio de Calificaciones</title>
</head>
<body>
    <div class="container">
        <h1>üìä Promedio de Calificaciones con Escala en Letras</h1>
        
        <p>Ingrese las tres calificaciones del estudiante (0-100) para calcular el promedio y su equivalente en letras.</p>
        
        <div class="input-group">
            <label for="grade1">Calificaci√≥n 1:</label>
            <input type="number" id="grade1" min="0" max="100" placeholder="Ingrese calificaci√≥n 1 (0-100)" step="0.1">
            <div class="error" id="error1"></div>
        </div>
        
        <div class="input-group">
            <label for="grade2">Calificaci√≥n 2:</label>
            <input type="number" id="grade2" min="0" max="100" placeholder="Ingrese calificaci√≥n 2 (0-100)" step="0.1">
            <div class="error" id="error2"></div>
        </div>
        
        <div class="input-group">
            <label for="grade3">Calificaci√≥n 3:</label>
            <input type="number" id="grade3" min="0" max="100" placeholder="Ingrese calificaci√≥n 3 (0-100)" step="0.1">
            <div class="error" id="error3"></div>
        </div>
        
        <button id="calculateAverage">
            Calcular Promedio
        </button>
        
        <div class="result" id="averageResult">
            <h3>Resultado:</h3>
            <p id="averageText"></p>
            <p id="letterGrade"></p>
        </div>

        <div class="scale-info">
            <h4>Escala de Calificaciones:</h4>
            <ul>
                <li><span class="success">90-100: A</span></li>
                <li><span class="success">80-89: B</span></li>
                <li><span class="warning">70-79: C</span></li>
                <li><span class="warning">60-69: D</span></li>
                <li><span style="color: #e74c3c; font-weight: bold;">0-59: F</span></li>
            </ul>
        </div>

        <a href="index.html" class="back-button">‚Üê Volver al Men√∫ Principal</a>
    </div>

    <script>
        // Validaci√≥n para solo n√∫meros
        document.addEventListener('DOMContentLoaded', function() {
            const numberInputs = document.querySelectorAll('input[type="number"]');
            
            numberInputs.forEach(input => {
                // Prevenir caracteres no num√©ricos
                input.addEventListener('input', function(e) {
                    this.value = this.value.replace(/[^0-9.]/g, '');
                    
                    // Prevenir m√∫ltiples puntos decimales
                    if ((this.value.match(/\./g) || []).length > 1) {
                        this.value = this.value.slice(0, -1);
                    }
                });
                
                // Validar rango al perder el foco
                input.addEventListener('blur', function() {
                    const value = parseFloat(this.value);
                    const errorElement = this.parentNode.querySelector('.error');
                    
                    if (this.value === '') {
                        errorElement.textContent = 'Este campo es requerido';
                        errorElement.classList.add('show');
                        this.style.borderColor = '#e74c3c';
                    } else if (isNaN(value) || value < 0 || value > 100) {
                        errorElement.textContent = 'Ingrese un n√∫mero entre 0 y 100';
                        errorElement.classList.add('show');
                        this.style.borderColor = '#e74c3c';
                    } else {
                        errorElement.classList.remove('show');
                        this.style.borderColor = '#27ae60';
                    }
                });
            });

            // Calcular promedio
            document.getElementById('calculateAverage').addEventListener('click', function() {
                const grade1 = parseFloat(document.getElementById('grade1').value);
                const grade2 = parseFloat(document.getElementById('grade2').value);
                const grade3 = parseFloat(document.getElementById('grade3').value);
                
                const error1 = document.getElementById('error1');
                const error2 = document.getElementById('error2');
                const error3 = document.getElementById('error3');
                const result = document.getElementById('averageResult');
                const averageText = document.getElementById('averageText');
                const letterGrade = document.getElementById('letterGrade');

                // Validar todas las entradas
                let isValid = true;
                const inputs = [
                    {element: document.getElementById('grade1'), error: error1},
                    {element: document.getElementById('grade2'), error: error2},
                    {element: document.getElementById('grade3'), error: error3}
                ];

                inputs.forEach(input => {
                    const value = parseFloat(input.element.value);
                    if (input.element.value === '' || isNaN(value) || value < 0 || value > 100) {
                        input.error.textContent = 'Ingrese un n√∫mero v√°lido (0-100)';
                        input.error.classList.add('show');
                        input.element.style.borderColor = '#e74c3c';
                        isValid = false;
                    } else {
                        input.error.classList.remove('show');
                        input.element.style.borderColor = '#27ae60';
                    }
                });

                if (!isValid) {
                    result.classList.remove('show');
                    return;
                }

                // Calcular promedio
                const average = (grade1 + grade2 + grade3) / 3;
                
                // Determinar calificaci√≥n en letras
                let letter, letterClass;
                if (average >= 90) {
                    letter = 'A';
                    letterClass = 'success';
                } else if (average >= 80) {
                    letter = 'B';
                    letterClass = 'success';
                } else if (average >= 70) {
                    letter = 'C';
                    letterClass = 'warning';
                } else if (average >= 60) {
                    letter = 'D';
                    letterClass = 'warning';
                } else {
                    letter = 'F';
                    letterClass = 'error';
                }
                
                // Mostrar resultado
                averageText.textContent = `El promedio de las calificaciones es: ${average.toFixed(2)}`;
                letterGrade.textContent = `Calificaci√≥n en letra: ${letter}`;
                letterGrade.className = letterClass;
                
                result.classList.add('show');
            });
        });
    </script>
</body>
</html>
